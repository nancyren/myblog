webpackJsonp([1],{0:function(t,e){},"2VD9":function(t,e){},AdI1:function(t,e){},"FhB/":function(t,e){},IAkH:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),o=s("JnRc"),r=s.n(o),n={data:function(){return{username:"",showYN:!0}},created:function(){var t=this.user;t&&(this.showYN=!1,this.username=t.attributes.username)},watch:{$route:function(t,e){var s=this.user;s?(this.showYN=!1,this.username=s.attributes.username):this.showYN=!0}},methods:{LoginOut:function(){r.a.User.logOut(),this.$store.dispatch("increment",null),this.$router.push("/loginblog")}},computed:{user:function(){return this.$store.state.userInfor}}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"head"},[s("div",{staticClass:"head-contain"},[s("div",{staticClass:"head-left"},[s("router-link",{staticClass:"head-anchar",attrs:{to:{name:"showblog"}}},[t._v("博客总览")]),t._v(" "),s("router-link",{staticClass:"head-anchar",attrs:{to:{name:"addblog"}}},[t._v("添加博客")])],1),t._v(" "),t.showYN?s("div",{staticClass:"head-right"},[s("router-link",{staticClass:"head-anchar",attrs:{to:{name:"loginblog"}}},[t._v("登录")]),t._v(" "),s("router-link",{staticClass:"head-anchar",attrs:{to:{name:"registryblog"}}},[t._v("注册")])],1):s("div",{staticClass:"head-right"},[s("span",{staticClass:"usercolor"},[t._v(t._s(t.username))]),t._v(" "),s("a",{on:{click:t.LoginOut}},[t._v("退出登录")])])])])},staticRenderFns:[]};var l={name:"App",components:{blogHeader:s("VU/8")(n,i,!1,function(t){s("kb96")},null,null).exports}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("blogHeader"),this._v(" "),e("div",{staticClass:"content-contain"},[e("router-view")],1)],1)},staticRenderFns:[]};var u=s("VU/8")(l,c,!1,function(t){s("flqL")},"data-v-58ca2714",null).exports,v=s("8+8L"),d=s("/ocq"),g={name:"add-blog",data:function(){return{blog:{title:"",content:"",category:[],author:""},authors:["smith","david","daling"],sumitted:!1}},methods:{post:function(){var t=this,e=new(r.a.Object.extend("Todo"));e.set("title",t.blog.title),e.set("content",t.blog.content),e.set("lists",t.blog.category),e.set("author",t.blog.author),e.set("owner",t.user),e.save().then(function(e){t.sumitted=!0}).then(function(t){console.log("操作失败")})}},computed:{user:function(){return this.$store.state.userInfor}}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"add-blog",attrs:{id:"add-blog"}},[s("h2",{staticClass:"add-blog-content"},[t._v("添加博客")]),t._v(" "),t.sumitted?t._e():s("form",[s("div",{staticClass:"container-detail"},[s("label",[t._v("博客标题")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.blog.title,expression:"blog.title"}],attrs:{type:"text",required:""},domProps:{value:t.blog.title},on:{input:function(e){e.target.composing||t.$set(t.blog,"title",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"container-detail"},[s("label",[t._v("博客内容")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.blog.content,expression:"blog.content"}],domProps:{value:t.blog.content},on:{input:function(e){e.target.composing||t.$set(t.blog,"content",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"checkbox"},[s("label",[t._v("vue.js")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.blog.category,expression:"blog.category"}],attrs:{type:"checkbox",value:"vue.js"},domProps:{checked:Array.isArray(t.blog.category)?t._i(t.blog.category,"vue.js")>-1:t.blog.category},on:{change:function(e){var s=t.blog.category,a=e.target,o=!!a.checked;if(Array.isArray(s)){var r=t._i(s,"vue.js");a.checked?r<0&&t.$set(t.blog,"category",s.concat(["vue.js"])):r>-1&&t.$set(t.blog,"category",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.blog,"category",o)}}}),t._v(" "),s("label",[t._v("react.js")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.blog.category,expression:"blog.category"}],attrs:{type:"checkbox",value:"react.js"},domProps:{checked:Array.isArray(t.blog.category)?t._i(t.blog.category,"react.js")>-1:t.blog.category},on:{change:function(e){var s=t.blog.category,a=e.target,o=!!a.checked;if(Array.isArray(s)){var r=t._i(s,"react.js");a.checked?r<0&&t.$set(t.blog,"category",s.concat(["react.js"])):r>-1&&t.$set(t.blog,"category",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.blog,"category",o)}}}),t._v(" "),s("label",[t._v("agular.js")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.blog.category,expression:"blog.category"}],attrs:{type:"checkbox",value:"angular.js"},domProps:{checked:Array.isArray(t.blog.category)?t._i(t.blog.category,"angular.js")>-1:t.blog.category},on:{change:function(e){var s=t.blog.category,a=e.target,o=!!a.checked;if(Array.isArray(s)){var r="angular.js",n=t._i(s,r);a.checked?n<0&&t.$set(t.blog,"category",s.concat([r])):n>-1&&t.$set(t.blog,"category",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.blog,"category",o)}}}),t._v(" "),s("label",[t._v("vue.js")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.blog.category,expression:"blog.category"}],attrs:{type:"checkbox",value:"node.js"},domProps:{checked:Array.isArray(t.blog.category)?t._i(t.blog.category,"node.js")>-1:t.blog.category},on:{change:function(e){var s=t.blog.category,a=e.target,o=!!a.checked;if(Array.isArray(s)){var r=t._i(s,"node.js");a.checked?r<0&&t.$set(t.blog,"category",s.concat(["node.js"])):r>-1&&t.$set(t.blog,"category",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.blog,"category",o)}}})]),t._v(" "),s("div",{staticClass:"container-detail"},[s("label",[t._v("作者")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.blog.author,expression:"blog.author"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.blog,"author",e.target.multiple?s:s[0])}}},t._l(t.authors,function(e){return s("option",{key:e.id},[t._v("\r\n                    "+t._s(e)+"\r\n                ")])}),0)]),t._v(" "),s("button",{staticClass:"add-btn",on:{click:function(e){return e.preventDefault(),t.post(e)}}},[t._v("添加博客")])]),t._v(" "),t.sumitted?s("div",{staticClass:"add-success"},[t._v("您的博客发布成功!!!")]):t._e(),t._v(" "),s("div",{staticClass:"preview"},[s("h2",[t._v("博客总览")]),t._v(" "),s("h3",[t._v("博客标题")]),t._v(" "),s("p",[t._v(t._s(t.blog.title))]),t._v(" "),s("h3",[t._v("博客内容")]),t._v(" "),s("p",[t._v(t._s(t.blog.content))]),t._v(" "),s("h3",[t._v("博客分类")]),t._v(" "),s("ul",t._l(t.blog.category,function(e){return s("li",{key:e.id},[t._v("\r\n                "+t._s(e)+"\r\n            ")])}),0),t._v(" "),s("h3",[t._v("作者")]),t._v(" "),s("p",[t._v(t._s(t.blog.author))])])])},staticRenderFns:[]};var b=s("VU/8")(g,m,!1,function(t){s("a9Bd")},"data-v-a45881d2",null).exports,p={name:"show-blog",data:function(){return{blogs:[],search:""}},created:function(){var t=this,e=t.user;console.log(e),new r.a.Query("Todo").find().then(function(s){console.log(s),s.forEach(function(s){e.id==s.attributes.owner.id&&(s.attributes.id=s.id,t.blogs.push(s.attributes))})}),console.log(t.blogs)},computed:{filterBlogs:function(){var t=this;return this.blogs.filter(function(e){return e.title.match(t.search)})},user:function(){return this.$store.state.userInfor}}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"theme",rawName:"v-theme:column",value:"wide",expression:"'wide'",arg:"column"}],staticClass:"show-blog"},[s("h2",{directives:[{name:"rainbow",rawName:"v-rainbow"}]},[t._v("博客总览")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"show-search",attrs:{type:"search",placeholder:"搜索"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),t._l(t.filterBlogs,function(e){return s("router-link",{key:e.id,staticClass:"show-blog-inner",attrs:{to:"/sigleblog/"+e.id}},[s("h3",{directives:[{name:"rainbow",rawName:"v-rainbow"}],staticClass:"show-title"},[t._v(t._s(t._f("to-uppercase")(e.title)))]),t._v(" "),s("article",[t._v(t._s(t._f("snippet")(e.content)))])])})],2)},staticRenderFns:[]};var _=s("VU/8")(p,h,!1,function(t){s("2VD9")},null,null).exports,f={name:"sigle-blog",data:function(){return{id:this.$route.params.id,blog:{}}},created:function(){var t=this;new r.a.Query("Todo").get(this.id).then(function(e){t.blog=e.attributes},function(t){console.log("操作错误")})},methods:{deleteData:function(){var t=this;r.a.Object.createWithoutData("Todo",this.id).destroy().then(function(e){alert("删除成功"),t.$router.push({path:"/"})},function(t){alert("删除失败")})}}},y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"single-blog"},[s("h3",{staticClass:"single-h3"},[t._v("标题:"+t._s(t.blog.title))]),t._v(" "),s("p",[t._v("内容:"+t._s(t.blog.content))]),t._v(" "),s("ul",t._l(t.blog.lists,function(e){return s("li",{key:e.id},[t._v("\n               "+t._s(e)+"\n           ")])}),0),t._v(" "),s("p",[t._v(t._s(t.blog.author))]),t._v(" "),s("div",{staticClass:"btn-sigle btn-sigle-red",on:{click:t.deleteData}},[t._v("删除")]),t._v(" "),s("router-link",{staticClass:"btn-sigle",attrs:{to:"/editblog/"+t.id}},[t._v("编辑")])],1)},staticRenderFns:[]};var w=s("VU/8")(f,y,!1,function(t){s("TC24")},null,null).exports,C={name:"add-blog",data:function(){return{id:this.$route.params.id,blog:{},authors:["smith","david","daling"],sumitted:!1}},created:function(){var t=this;new r.a.Query("Todo").get(this.id).then(function(e){t.blog=e.attributes},function(t){console.log("操作错误")})},methods:{post:function(){var t=this,e=r.a.Object.createWithoutData("Todo",this.id);e.set("title",t.blog.title),e.set("content",t.blog.content),e.set("lists",t.blog.category),e.set("author",t.blog.author),e.set("owner",r.a.User.current()),e.save().then(function(e){t.sumitted=!0}).then(function(t){console.log("操作失败")})}}},k={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"add-blog",attrs:{id:"add-blog"}},[s("h2",{staticClass:"add-blog-content"},[t._v("添加博客")]),t._v(" "),t.sumitted?t._e():s("form",[s("div",{staticClass:"container-detail"},[s("label",[t._v("博客标题")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.blog.title,expression:"blog.title"}],attrs:{type:"text",required:""},domProps:{value:t.blog.title},on:{input:function(e){e.target.composing||t.$set(t.blog,"title",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"container-detail"},[s("label",[t._v("博客内容")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.blog.content,expression:"blog.content"}],domProps:{value:t.blog.content},on:{input:function(e){e.target.composing||t.$set(t.blog,"content",e.target.value)}}})]),t._v(" "),s("div",{staticClass:"checkbox"},[s("label",[t._v("vue.js")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.blog.lists,expression:"blog.lists"}],attrs:{type:"checkbox",value:"vue.js"},domProps:{checked:Array.isArray(t.blog.lists)?t._i(t.blog.lists,"vue.js")>-1:t.blog.lists},on:{change:function(e){var s=t.blog.lists,a=e.target,o=!!a.checked;if(Array.isArray(s)){var r=t._i(s,"vue.js");a.checked?r<0&&t.$set(t.blog,"lists",s.concat(["vue.js"])):r>-1&&t.$set(t.blog,"lists",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.blog,"lists",o)}}}),t._v(" "),s("label",[t._v("react.js")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.blog.lists,expression:"blog.lists"}],attrs:{type:"checkbox",value:"react.js"},domProps:{checked:Array.isArray(t.blog.lists)?t._i(t.blog.lists,"react.js")>-1:t.blog.lists},on:{change:function(e){var s=t.blog.lists,a=e.target,o=!!a.checked;if(Array.isArray(s)){var r=t._i(s,"react.js");a.checked?r<0&&t.$set(t.blog,"lists",s.concat(["react.js"])):r>-1&&t.$set(t.blog,"lists",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.blog,"lists",o)}}}),t._v(" "),s("label",[t._v("agular.js")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.blog.lists,expression:"blog.lists"}],attrs:{type:"checkbox",value:"angular.js"},domProps:{checked:Array.isArray(t.blog.lists)?t._i(t.blog.lists,"angular.js")>-1:t.blog.lists},on:{change:function(e){var s=t.blog.lists,a=e.target,o=!!a.checked;if(Array.isArray(s)){var r="angular.js",n=t._i(s,r);a.checked?n<0&&t.$set(t.blog,"lists",s.concat([r])):n>-1&&t.$set(t.blog,"lists",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.blog,"lists",o)}}}),t._v(" "),s("label",[t._v("vue.js")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.blog.lists,expression:"blog.lists"}],attrs:{type:"checkbox",value:"node.js"},domProps:{checked:Array.isArray(t.blog.lists)?t._i(t.blog.lists,"node.js")>-1:t.blog.lists},on:{change:function(e){var s=t.blog.lists,a=e.target,o=!!a.checked;if(Array.isArray(s)){var r=t._i(s,"node.js");a.checked?r<0&&t.$set(t.blog,"lists",s.concat(["node.js"])):r>-1&&t.$set(t.blog,"lists",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.blog,"lists",o)}}})]),t._v(" "),s("div",{staticClass:"container-detail"},[s("label",[t._v("作者")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.blog.author,expression:"blog.author"}],on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.blog,"author",e.target.multiple?s:s[0])}}},t._l(t.authors,function(e){return s("option",{key:e.id},[t._v("\r\n                    "+t._s(e)+"\r\n                ")])}),0)]),t._v(" "),s("button",{staticClass:"add-btn",on:{click:function(e){return e.preventDefault(),t.post(e)}}},[t._v("编辑博客")])]),t._v(" "),t.sumitted?s("div",{staticClass:"add-success"},[t._v("您的博客编辑成功!!!")]):t._e(),t._v(" "),s("div",{staticClass:"preview"},[s("h2",[t._v("博客总览")]),t._v(" "),s("h3",[t._v("博客标题")]),t._v(" "),s("p",[t._v(t._s(t.blog.title))]),t._v(" "),s("h3",[t._v("博客内容")]),t._v(" "),s("p",[t._v(t._s(t.blog.content))]),t._v(" "),s("h3",[t._v("博客分类")]),t._v(" "),s("ul",t._l(t.blog.category,function(e){return s("li",{key:e.id},[t._v("\r\n                "+t._s(e)+"\r\n            ")])}),0),t._v(" "),s("h3",[t._v("作者")]),t._v(" "),s("p",[t._v(t._s(t.blog.author))])])])},staticRenderFns:[]};var x=s("VU/8")(C,k,!1,function(t){s("AdI1")},"data-v-349d3e5d",null).exports,$={data:function(){return{userName:"",passWord:""}},methods:{inputLogin:function(){var t=this;r.a.User.logIn(this.userName,this.passWord).then(function(e){t.$store.dispatch("increment",e),t.$router.push("/showblog")},function(t){alert("用户名或密码错误")})}}},j={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-container"},[s("form",{staticClass:"form-signin"},[s("h2",{staticClass:"form-signin-heading"},[t._v("登录")]),t._v(" "),s("div",{staticClass:"label-input"},[s("label",{staticClass:"sr-only",attrs:{for:"inputUsername"}},[t._v("用户名:")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"用户名",required:"",autofocus:""},domProps:{value:t.userName},on:{input:function(e){e.target.composing||(t.userName=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"label-input"},[s("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("密码:")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.passWord,expression:"passWord"}],staticClass:"form-control",attrs:{type:"password",placeholder:"密码",required:""},domProps:{value:t.passWord},on:{input:function(e){e.target.composing||(t.passWord=e.target.value)}}})]),t._v(" "),s("button",{staticClass:"btn btn-lg btn-primary btn-block",on:{click:function(e){return e.preventDefault(),t.inputLogin(e)}}},[t._v("登录")])])])},staticRenderFns:[]};var A=s("VU/8")($,j,!1,function(t){s("WKDd")},null,null).exports,N=s("mvHQ"),P=s.n(N),U={data:function(){return{userName:"",passWord:"",email:""}},methods:{InputRegistry:function(){var t=this,e=new r.a.User;e.setUsername(this.userName),e.setPassword(this.passWord),e.setEmail(this.email),e.signUp().then(function(e){t.$store.dispatch("increment",e),t.$router.push("/showblog")},function(t){alert(P()(t))})}}},W={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-container"},[s("form",{staticClass:"form-signup"},[s("h2",{staticClass:"form-signup-heading"},[t._v("注册新用户")]),t._v(" "),s("div",{staticClass:"label-input"},[s("label",{staticClass:"sr-only",attrs:{for:"inputUsername"}},[t._v("用户名")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.userName,expression:"userName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"用户名",required:"",autofocus:""},domProps:{value:t.userName},on:{input:function(e){e.target.composing||(t.userName=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"label-input"},[s("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("密码")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.passWord,expression:"passWord"}],staticClass:"form-control",attrs:{type:"password",placeholder:"密码",required:""},domProps:{value:t.passWord},on:{input:function(e){e.target.composing||(t.passWord=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"label-input"},[s("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("邮箱")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",placeholder:"邮箱",required:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),s("button",{staticClass:"btn btn-lg btn-primary btn-block",on:{click:function(e){return e.preventDefault(),t.InputRegistry(e)}}},[t._v("注册")])])])},staticRenderFns:[]};var E=s("VU/8")(U,W,!1,function(t){s("FhB/")},null,null).exports,R={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"index-banner"},[e("div",{staticClass:"index-banner-fil"},[e("p",[this._v("只能我们自己看的博客哦")])])])}]};var D=s("VU/8")({name:"App"},R,!1,function(t){s("IAkH")},"data-v-0fcefa54",null).exports;a.a.use(d.a);var I=new d.a({mode:"hash",routes:[{path:"/",name:"indexblog",component:D},{path:"/showblog",name:"showblog",component:_},{path:"/addblog",name:"addblog",component:b},{path:"/sigleblog/:id",name:"sigleblog",component:w},{path:"/editblog/:id",name:"editblog",component:x},{path:"/loginblog",name:"loginblog",component:A},{path:"/registryblog",name:"registryblog",component:E}]}),V=s("NYxO");a.a.use(V.a);r.a.init({appId:"Cxxu6T4hqVnohACY1rjJpGYf-gzGzoHsz",appKey:"redDh8mdRweGenuoTgcC5tRc"});var q=new V.a.Store({state:{userInfor:r.a.User.current()},mutations:{increment:function(t,e){t.userInfor=e}},actions:{increment:function(t,e){t.commit("increment",e)}}});a.a.directive("rainbow",{bind:function(t,e,s){t.style.color="#"+Math.random().toString(16).slice(2,8)}}),a.a.directive("theme",{bind:function(t,e,s){"wide"==e.value?t.style.width="980px":"naroow"==e.value&&(t.style.width="640px"),"column"==e.arg&&(t.style.backgroundColor="#eeeeee")}}),a.a.filter("to-uppercase",function(t){return t.toUpperCase()}),a.a.filter("snippet",function(t){return t.length>100?t.slice(0,100)+"...":t}),I.beforeEach(function(t,e,s){var a=r.a.User.current();"/"==t.path||"/loginblog"==t.path||"/registryblog"==t.path?a?s("/showblog"):s():a?s():alert("请先登录或注册")}),a.a.config.productionTip=!1,a.a.use(v.a),new a.a({el:"#app",router:I,store:q,components:{App:u},template:"<App/>"})},TC24:function(t,e){},WKDd:function(t,e){},a9Bd:function(t,e){},flqL:function(t,e){},kb96:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.fd1061641adb6b7f3b25.js.map